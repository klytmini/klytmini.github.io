!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e(t)}):t.Qmsg=e(t)}(this,function(t){"use strict";function h(){for(var t=l,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function g(t){var e,n,i,s,o,a=this;a.settings=Object.assign({},f,t||{}),a.id=m.instanceCount,t=(t=a.settings.timeout)&&parseInt(0<=t)&&parseInt(t)<=Math.NEGATIVE_INFINITY?parseInt(t):f.timeout,a.timeout=t,a.settings.timeout=t,a.timer=null,t=document.createElement("div"),e=u[a.settings.type||"info"],n=h("content-"+a.settings.type||"info"),n+=a.settings.showClose?" "+h("content-with-close"):"",o=a.settings.content||"",i=a.settings.showClose?'<i class="qmsg-icon qmsg-icon-close">'+u.close+"</i>":"",s=document.createElement("span"),a.settings.html?s.innerHTML=o:s.innerText=o,t.innerHTML='<div class="qmsg-content">            <div class="'+n+'">                <i class="qmsg-icon">'+e+"</i>"+s.outerHTML+i+"</div>\t\t</div>",t.classList.add(h("item")),t.style.textAlign=a.settings.position,(o=document.querySelector("."+l))||((o=document.createElement("div")).classList.add(l),o.classList.add(h("wrapper")),o.classList.add(h("is-initialized")),document.body.appendChild(o)),o.appendChild(t),a.$wrapper=o,a.$elem=t,c(a,"opening"),a.settings.showClose&&t.querySelector(".qmsg-icon-close").addEventListener("click",function(){a.close()}.bind(t)),t.addEventListener("animationend",function(t){var e=t.target;t.animationName===r.closing&&(clearInterval(this.timer),this.destroy()),e.style.animationName=""}.bind(a)),a.settings.autoClose&&(a.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(a),10),a.$elem.addEventListener("mouseover",function(){clearInterval(this.timer)}.bind(a)),a.$elem.addEventListener("mouseout",function(){"closing"!==this.state&&(this.timer=setInterval(function(){this.timeout-=10,this.timeout<=0&&(clearInterval(this.timer),this.close())}.bind(a),10))}.bind(a)))}function c(t,e){e&&r[e]&&(t.state=e,t.$elem.style.animationName=r[e])}function n(t,e){var n=Object.assign({},f);return 0===arguments.length?n:t instanceof Object?Object.assign(n,t):(n.content=t.toString(),e instanceof Object?Object.assign(n,e):n)}function i(t){var e,n,i,s,o,a,c,l,r,u,m,d;for(s in t=t||{},e=JSON.stringify(t),n=-1,this.oMsgs)if(o=this.oMsgs[s],o.config===e){n=s,i=o.inst;break}if(n<0){if(this.instanceCount++,(u={}).id=this.instanceCount,u.config=e,(i=new g(t)).id=this.instanceCount,i.count="",u.inst=i,this.oMsgs[this.instanceCount]=u,a=this.oMsgs.length,(c=this.maxNums)<a)for(l=0,r=this.oMsgs;l<a-c;l++)r[l]&&r[l].inst.settings.autoClose&&r[l].inst.close()}else i.count=i.count?99<=i.count?i.count:i.count+1:2,t=i,u=h("count"),m=t.$elem.querySelector('[class^="qmsg-content-"]'),(d=m.querySelector("."+u))||((d=document.createElement("span")).classList.add(u),m.appendChild(d)),d.innerHTML=t.count,d.style.animationName="",d.style.animationName="MessageShake",t.timeout=t.settings.timeout||f.timeout;return i.$elem.setAttribute("data-count",i.count),i}var l,r,f,u,e,m;return"function"!=typeof Object.assign&&(Object.assign=function(t){var e,n,i;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(t=Object(t),e=1;e<arguments.length;e++)if(null!=(n=arguments[e]))for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}),"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(i){return function(t){var e=s.className.split(/\s+/g),n=e.indexOf(t);i(e,n,t),s.className=e.join(" ")}}var s=this;return{add:t(function(t,e,n){~e||t.push(n)}),remove:t(function(t,e){~e&&t.splice(e,1)}),toggle:t(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(t){return!!~s.className.split(/\s+/g).indexOf(t)},item:function(t){return s.className.split(/\s+/g)[t]||null}}}}),l=t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.NAMESPACE||"qmsg",r={opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},f=Object.assign({position:"center",type:"info",showClose:!1,timeout:2500,animation:!0,autoClose:!0,content:"",onClose:null,maxNums:5,html:!1},t&&t.QMSG_GLOBALS&&t.QMSG_GLOBALS.DEFAULTS),u={info:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#909399"/></svg>',warning:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#E6A23C"/></svg>',error:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#F56C6C"/></svg>',success:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#67C23A"/></svg>',loading:'<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/><path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>',close:'<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'},t=document.createElement("div").style,e=void 0!==t.animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName,g.prototype.destroy=function(){this.$elem.parentNode&&this.$elem.parentNode.removeChild(this.$elem),clearInterval(this.timer),m.remove(this.id)},g.prototype.close=function(){c(this,"closing"),e?m.remove(this.id):this.destroy();var t=this.settings.onClose;t&&t instanceof Function&&t.call(this)},m={version:"0.0.1",instanceCount:0,oMsgs:[],maxNums:f.maxNums||5,config:function(t){f=t&&t instanceof Object?Object.assign(f,t):f,this.maxNums=f.maxNums&&0<f.maxNums?parseInt(f.maxNums):3},info:function(t,e){t=n(t,e);return t.type="info",i.call(this,t)},warning:function(t,e){t=n(t,e);return t.type="warning",i.call(this,t)},success:function(t,e){t=n(t,e);return t.type="success",i.call(this,t)},error:function(t,e){t=n(t,e);return t.type="error",i.call(this,t)},loading:function(t,e){t=n(t,e);return t.type="loading",t.autoClose=!1,i.call(this,t)},remove:function(t){this.oMsgs[t]&&delete this.oMsgs[t]},closeAll:function(){for(var t in this.oMsgs)this.oMsgs[t]&&this.oMsgs[t].inst.close()}}});